<div class="content-wrapper">
  <section class="content-header">
    <h1>Dados pessoais:<small>Visualização</small></h1>
    
    <ol class="breadcrumb">
      <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
      <li><a href="#">Formulários</a></li>
      <li class="active">Elementos gerais</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">			
    <div class="box box-default">
            
      <div class="box-header with-border">
        <div class="row">
          <div class="col-sm-2">
            <div class="aw-page-header-controls">
              <a class="btn  btn-default" [routerLink]="['/pessoas']">
                <i class="glyphicon  glyphicon-plus-sign"></i> <span class="hidden-xs  hidden-sm">Pesquisa pessoas</span>
              </a>
            </div>
          </div>
        
        </div>

        <div class="box-tools pull-right">
          <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
          <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-remove"></i></button>
        </div>
      </div>
      <!-- /.box-header -->

      <div class="box-body">
        <form [formGroup]="form" novalidate>				
        
          <div class="row">              
            <npj-input-content for="nome" label="Nome" errorMessage="Nome deve ser informado">               
              <input id="nome" type="text" size="100" maxlength="100" formControlName="nome"
                class="form-control" autocomplete="off" />
            </npj-input-content>                       
          </div>

          <div class="row">             
            <npj-input-content for="pseudonimo" label="Pseudônimo" errorMessage="Pseudônimo deve ser informado"> 
                <input id="pseudonimo" formControlName="pseudonimo" type="text" size="50" maxlength="50" class="form-control" 
                  autocomplete="off"/>
            </npj-input-content>
          
            <div class="form-group  col-sm-2">
              <label class="control-label">Idoso</label>
              <div>
                <input type="checkbox" formControlName="idoso" (change)="fieldChangeIdoso($event)">
              </div>
            </div>
            <div class="form-group  col-sm-3">
              <label class="control-label">Portador de Deficiência</label>
              <div>
                <input type="checkbox" formControlName="portadorDeficiencia" (change)="fieldChangePortador($event)">
              </div>
            </div>
            <div class="form-group  col-sm-3">
              <label class="control-label">Atendimento Preferêncial</label>
              <div>
                <input type="checkbox" formControlName="atendimentoPreferencial" (change)="fieldChangeAtendimento($event)">
              </div>
            </div>							
          </div>
          
          <div class="row">
            <npj-input-content for="email" label="Email" errorMessage="Email deve ser informado"> 
              <input id="email" type="text" formControlName="email" size="100" maxlength="100" class="form-control" 
              autocomplete="off"/>
            </npj-input-content>
          </div>

          <div class="row">
            <div class="col-sm-12  form-group">
              <label for="foneResidencial" class="control-label">Fone Residencial</label> 
              <input id="foneResidencial" size="20" maxlength="20" type="text" class="form-control" formControlName="foneResidencial"
              autocomplete="off" [dropSpecialCharacters]="false" mask="(00)0000-0000" />
            </div>
          </div>        

          <div class="row">
            <npj-input-content for="foneCelular" label="Fone celular" errorMessage="Fone Celular deve ser informado"> 
              <input id="foneCelular" type="text" size="20" formControlName="foneCelular" maxlength="20" class="form-control"
              autocomplete="off" [dropSpecialCharacters]="false" mask="(00)00000-0000" />
            </npj-input-content>
          </div>
          
          <div class="row">
            <div class="col-sm-12  form-group">
              <label for="sexo" class="control-label">Sexo</label>
              <div class="radio" *ngFor="let sexo of sexos">									
                <label for="{{sexo.value}}">								
                  <input id="{{sexo.value}}" type="radio" value="{{sexo.value}}" [checked]="sexo.value === 'MASCULINO'" formControlName="sexo">
                  {{sexo.label}}											
                </label>									
              </div>
            </div>
          </div>

          <div class="row">
            <npj-input-content for="rg" label="RG" errorMessage="Informe um RG válido"> 
              <input id="rg" type="text" size="20" maxlength="20" class="form-control" formControlName="rg"
              autocomplete="off" />
            </npj-input-content>           
          </div>

          <div class="row">
            <npj-input-content for="cpf" label="CPF" errorMessage="CPF deve ser informado"> 
              <input id="cpf" type="text" size="20" formControlName="cpf" maxlength="20" class="form-control"
              autocomplete="off" [dropSpecialCharacters]="false" mask="000.000.000-00" />
            </npj-input-content>
          </div>

          <div class="row">
            <npj-input-content for="dataNascimento" label="Data Nascimento" errorMessage="Informe uma data válida">
              <input id="dataNascimento" type="text" class="form-control" formControlName="dataNascimento"
                autocomplete="off" [bsConfig]="datePickerConfig" bsDatepicker />
            </npj-input-content>
          </div>
            
          <div class="row">
            <div class="col-sm-12  form-group">
              <label class="control-label" for="naturalidade">Naturalidade</label> 
              <input id="naturalidade" type="text" size="100" maxlength="100" class="form-control" formControlName="naturalidade"
              autocomplete="off" />
            </div>
          </div>

          <div class="row">
            <div class="col-sm-12  form-group">
              <label class="control-label" for="nacionalidade">Nacionalidade</label> 
              <input id="nacionalidade" type="text" size="100" maxlength="100" class="form-control" formControlName="nacionalidade"
              autocomplete="off" />
            </div>
          </div>

          <div class="row">
            <div class="col-sm-12  form-group">
              <label class="control-label" for="profissao">Profissão</label> 
              <input id="profissao" type="text" size="100" maxlength="100" class="form-control" formControlName="profissao"
              autocomplete="off" />
            </div>
          </div>
          
          <div class="row">
            <npj-input-content for="estadoCivil" label="Estado civil" errorMessage="Estado civil deve ser informado">      
              <select id="estadoCivil" class="form-control" formControlName="estadoCivil">         
                <option *ngFor="let estadoCivil of estadosCivis" [value]="estadoCivil.value">{{estadoCivil.label}}</option>
              </select>
            </npj-input-content>
          </div>
          
          <div formGroupName="endereco">
            <div class="row">
                <npj-input-content for="logradouro" label="Logradouro" errorMessage="Logradouro deve ser informado">
                  <input id="logradouro" type="text" size="100" maxlength="100" formControlName="logradouro" class="form-control"
                  autocomplete="off" />
                </npj-input-content>
            </div>
            
            <div class="row">
              <div class="form-group  col-sm-12">
                <label class="control-label" for="bairro">Bairro</label> 
                <input type="text" class="form-control" size="100" maxlength="100" id="bairro" formControlName="bairro"
                autocomplete="off" />
              </div>
            </div>
              
            <div class="row">
              <npj-input-content for="cep" label="CEP" errorMessage="CEP deve ser informado"> 
                <input type="text" class="form-control" id="cep" formControlName="cep" [dropSpecialCharacters]="false" mask="00.000-000" autocomplete="off" />
              </npj-input-content>
            </div>
            
            <div class="row">
              <npj-input-content formGroupName="estado" for="estado" label="Estado" errorMessage="Estado deve ser informado">
                  <npj-select [options]="estados" formControlName="id" (change)="findAllCidadesBy($event.target.value)"></npj-select>
              </npj-input-content>

              <!-- <div class="form-group  col-sm-12" formGroupName="estado">
                  <label class="control-label">Estado</label>           
                  <select class="form-control" formControlName="id" (change)="findAllCidadesBy($event.target.value)">
                    <option value="">Selecione um estado</option>
                    <option *ngFor="let estado of estados" value="{{estado.id}}">{{estado.nome}}</option>
                  </select>
                </div>  -->        
            </div>
           
            <div class="row">
              <npj-input-content formGroupName="cidade" for="cidade" label="Cidade" errorMessage="Cidade deve ser informado">
                <npj-select [options]="cidades" formControlName="id"></npj-select>
              </npj-input-content>
            </div>           
          </div>

          <div class="row">
            <div class="form-group  col-sm-12">
              <label class="control-label">Foto</label>
              <div class="npj-upload" *ngIf="url === undefined">
                <i class="glyphicon  glyphicon-cloud-upload"></i> 
                <span>Arraste a foto aqui ou </span> 
                <a class="npj-upload-form-file">selecione
                  <input type="file" (change)="inputFileChange($event)" accept=".jpg,.jpeg,.png" />
                </a>
              </div>
            </div>
          </div>

          <div class="row" *ngIf="url !== undefined">
            <div class="col-md-4"></div>
              <div class="col-md-4  text-center">
                <a href="javascript:;" class="thumbnail">
                  <img src="{{url}}">
                </a>
                <button type="button" (click)="removeFoto()" class="btn  btn-link"><span class="glyphicon  glyphicon-remove"></span></button>
              </div>
            <div class="col-md-4"></div>
          </div>
        </form>
          <!-- /.row -->
        </div>
        <!-- /.box-body -->
        <div class="box-footer">         
          <button [disabled]="form.invalid" type="submit" (click)="salvar(form.value)" class="btn  btn-primary">Salvar</button>
          <button [disabled]="!form.get('id').value" type="submit" (click)="transferToAssistido()" class="btn  btn-primary">Gerar assistido</button>              
          <a [routerLink]="['/pessoas/nova']" class="btn btn-info" role="button">Nova pessoa</a>
        </div>
    </div>
    <!-- /.box -->
  </section>
  <!-- /.content -->
</div>
